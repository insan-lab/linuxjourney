---
index: 7
lang: "ja"
title: "ソースコードのコンパイル"
meta_title: "ソースコードのコンパイル - パッケージ"
meta_description: "Linux でソースコードからコンパイルする方法を学びます。このガイドでは、configure、make、およびクリーンなパッケージ管理のために推奨される checkinstall コマンドを使用してソースコードをビルドする必須の手順を説明します。"
meta_keywords: "ソースコードからコンパイルする方法，ソースコードのビルド方法，ソースコードのコンパイル，make install, checkinstall, Linux コンパイル，build-essential, configure スクリプト，makefile, Linux チュートリアル"
---

## Lesson Content

パッケージがソースコードとしてのみ提供されている場合があります。それを使用するには、システム上でコンパイルしてインストールする必要があります。このレッスンでは、ソースコードからコンパイルする方法の一般的なプロセスを順を追って説明します。

### システムの準備

何かをコンパイルする前に、必要なツールが必要です。Ubuntu のような Debian ベースのシステムでは、単一のコマンドでそれらをインストールできます。

```bash
sudo apt install build-essential
```

`build-essential`パッケージは、GCC コンパイラやコンパイルに不可欠な`make`ユーティリティなど、一連のソフトウェア開発ツールをインストールします。

ツールをインストールした後、通常は`.tar.gz`ファイルであるソースコードパッケージの内容を展開します。

```bash
tar -xzvf package.tar.gz
```

続行する前に、展開されたディレクトリ内の`README`または`INSTALL`ファイルを必ず確認してください。これらのファイルには、その特定のパッケージに必要な固有の手順や依存関係が含まれていることがよくあります。

### 標準的なビルドプロセス

開発者によって`cmake`のようなさまざまなビルドシステムが使用されることがありますが、最も伝統的な方法は 3 ステップのプロセスを経ることです。ソースコードのビルド方法を学ぶ上で、これを理解することは基本となります。

まず、`configure`スクリプトを実行します。このスクリプトは、ソフトウェアが正しくビルドおよび実行されるために必要なすべての依存関係とライブラリについてシステムをチェックします。

```bash
./configure
```

`./`プレフィックスは、シェルに現在のディレクトリからスクリプトを実行するように指示します。スクリプトが不足している依存関係を報告した場合は、続行する前にそれらをインストールする必要があります。

次に、`make`コマンドを実行します。このコマンドは、ディレクトリ内の`Makefile`というファイルを読み取ります。このファイルには、ソースコードをどのように実行可能なプログラムにコンパイルするかについてのルールのセットが含まれています。

```bash
make
```

最後に、ソフトウェアをシステムにインストールするには、通常次のように実行します。

```bash
sudo make install
```

このコマンドは、コンパイルされたファイルを適切なシステムディレクトリにコピーし、ソフトウェアが使用可能になります。

### より良いインストール方法

`sudo make install`は機能しますが、重大な欠点があります。それは、ソフトウェアをシステムのパッケージマネージャに登録しないことです。これにより、後でパッケージを追跡、更新、またはきれいにアンインストールすることが困難になります。

はるかに良いアプローチは`checkinstall`を使用することです。このツールはインストールプロセスを実行しますが、ファイルを直接コピーする代わりに、ネイティブのシステムパッケージ（Debian/Ubuntu では`.deb`ファイルなど）を作成してインストールします。

```bash
sudo checkinstall
```

`checkinstall`を使用すると、コンパイルされたソフトウェアがパッケージ管理システムに統合されます。これにより、後で`apt`や`dpkg`を使用して、公式リポジトリからインストールした他のパッケージとまったく同じように簡単に削除できます。このため、`make install`よりも常に`checkinstall`を優先すべきです。

`make install`でインストールされたパッケージをアンインストールするには、ソースディレクトリに戻って`sudo make uninstall`を実行しますが、これは必ずしも信頼できるわけではありません。

## Exercise

練習あるのみです！ソースコードからソフトウェアをビルドする理解を深めるための実践的なラボを以下に示します。

1. **[Linux でソースコードからソフトウェアをビルドする](https://labex.io/ja/labs/comptia-build-software-from-source-code-in-linux-590853)** - `configure`、`make`、`make install`の使用を含め、ソースコードからソフトウェアをビルドおよびインストールする基本的なプロセスを練習します。

このラボは、概念を実際のシナリオに適用し、ソフトウェアのコンパイルに対する自信を高めるのに役立ちます。

## Quiz Question

ALWAYS `make install`の代わりに何を使用すべきですか？ (ケースに注意して、英語で回答してください)

## Quiz Answer

checkinstall
