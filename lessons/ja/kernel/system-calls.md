---
index: 3
lang: "ja"
title: "システムコール"
meta_title: "システムコール - カーネル"
meta_description: "Linux におけるシステムコールの基礎を探ります。ユーザースペースのプロセスが、カーネルサービスのリクエスト、モード切り替え、システムコールテーブルの仕組みのためにシステムコール（syscall）をどのように使用するかを学びます。`strace`を使用して、動作中のシステムコールを確認しましょう。"
meta_keywords: "システムコール linux, システムコール，システムコールテーブル，カーネルモード，ユーザモード，strace, linux カーネル，syscall API"
---

## Lesson Content

巨大なコンサート会場にいると想像してください。一般観客エリアから特別なバックステージへ移動するには、ただ歩いて行けるわけではありません。特定の警備されたドアを通過するための特別なパスが必要です。コンピューティングの世界では、**システムコール**がその特別なパスに相当します。

### システムコールとは？

システムコール（syscalls と略されることが多い）は、ユーザー空間のプロセスがカーネルに直接サービスを要求するための手段を提供します。カーネルは、システムコール API を通じて一連のサービスを公開しています。これらのサービスは、ファイルの読み書き、メモリ管理、ネットワーク接続の処理などの操作に不可欠です。利用可能なシステムコールの数は固定されており、任意に新しいものを追加することはできません。システムは、各システムコールが一意の ID で登録されている`syscall table`（システムコールテーブル）を維持しています。

### Linux におけるシステムコールの仕組み

`ls`のようなプログラムを実行するとき、その中のコードが**システムコール linux**コマンドを直接実行するわけではありません。代わりに、ラッパーとして機能するライブラリ関数を使用します。このラッパー関数は必要なパラメータを設定し、ソフトウェア割り込み、つまり「トラップ」を発生させます。

このトラップは、プロセッサに特権のないユーザーモードから特権のあるカーネルモードへ切り替えるようシグナルを送ります。カーネルモードに入ると、システムコールハンドラが処理を引き継ぎます。ハンドラは一意の ID を使用して`syscall table`内で要求された関数を検索し、それを実行します。例えば、ファイルのステータスを照会するために使用される`stat()`システムコールは、このように見つけられて実行されます。カーネルがタスクを完了した後、コンテキストをユーザーモードに戻し、成功またはエラーを示すステータスコードをプロセスに返します。

## Exercise

練習あるのみです！システムコールの内部動作は複雑ですが、ユーザー空間プログラムがカーネルとどのように対話するかを理解することは基本です。この対話を把握する最良の方法は、これらの基本的な操作を実行するコマンドで練習することです。ファイルシステムとのやり取り（システムコールに大きく依存しています）を強化するための実践的なラボを次に示します。

1. **[Linux でファイルシステムを操作する](https://labex.io/ja/labs/comptia-navigate-the-filesystem-in-linux-590971)** - `ls`、`cd`、`pwd`などの必須コマンドを練習して Linux ファイルシステム内を移動および検査し、カーネルのファイルシステムサービスに直接関与します。
2. **[Linux でファイルとディレクトリを管理する](https://labex.io/ja/labs/comptia-manage-files-and-directories-in-linux-590835)** - `mkdir`、`rm`、`cp`、`mv`などのコマンドを使用してファイルとディレクトリの作成、削除、コピー、移動を学習します。これらはすべて、アクションを実行するためにシステムコールを利用します。
3. **[Linux でファイルとコマンドを見つける](https://labex.io/ja/labs/comptia-find-files-and-commands-in-linux-590834)** - `find`、`whereis`、`which`を使用してファイルとコマンドを見つけるテクニックを習得し、ユーザーコマンドがカーネルサービスを活用してファイルシステムと対話する方法をさらに示します。

これらのラボは、実際のシナリオでファイルシステム操作の概念を適用し、暗黙的にシステムコールに依存する基本的な Linux 操作に対する自信を構築するのに役立ちます。

## Quiz Question

ユーザーモードからカーネルモードに切り替えるために使用されるものは何ですか？2 語で英語で答えてください。

## Quiz Answer

System call
