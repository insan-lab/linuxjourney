---
index: 4
lang: "ja"
title: "/etc/shadow"
meta_title: "/etc/shadow - ユーザー管理"
meta_description: "Linux におけるユーザー認証の重要なコンポーネントである/etc/shadow ファイルを探ります。「cat /etc/shadow」での表示方法や、暗号化されたパスワードとポリシー情報が格納されているetc shadow ファイルの構造を理解しましょう。"
meta_keywords: "etc shadow, etc/shadow ファイル linux, cat /etc/shadow, linux etc shadow, /etc/shadow, ユーザー認証，パスワードセキュリティ，Linux システム管理"
---

## Lesson Content

`/etc/shadow`ファイルは、Linux システムにおいて機密性の高いユーザー認証情報を保存するための重要なコンポーネントです。誰でも読み取り可能な`/etc/passwd`ファイルとは異なり、アクセスするにはスーパーユーザー権限が必要であり、パスワードデータを安全に保管する場所を提供します。

### Linux における etc/shadow ファイルの役割

**Linux における etc/shadow ファイル**の主な目的は、暗号化されたユーザーパスワードとパスワードの有効期限ポリシーを保存することです。この機密データを`/etc/passwd`内の一般ユーザー情報から分離することで、システムのセキュリティが向上します。権限のないユーザーがパスワードハッシュを読み取ることができれば、オフラインでクラックを試みることが可能になります。

### cat /etc/shadowを使用したファイルの表示

このファイルの内容を確認するには、`sudo`のようなスーパーユーザー権限を持つコマンドを使用する必要があります。この目的のためには、`cat /etc/shadow`コマンドが一般的に使用されます。

```bash
$ sudo cat /etc/shadow

root:MyEPTEa$6Nonsense:15000:0:99999:7:::
```

**etc shadow**ファイルの出力形式は、コロンで区切られた一連のフィールドであり、各行が単一のユーザーを表します。

### ファイル構造の理解

`/etc/shadow`の各行には、コロンで区切られた 9 つのフィールドが含まれており、それぞれが単一のユーザーに対応しています。

1.  **ユーザー名**: ユーザーのログイン名。
2.  **暗号化されたパスワード**: ハッシュ化されたユーザーパスワード。アスタリスク（`*`）または感嘆符（`!`）は、アカウントがロックされていることを意味します。
3.  **最終パスワード変更日**: パスワードが最後に変更されてからの、1970 年 1 月 1 日からの日数。値が`0`の場合、次回のログイン時にパスワードの変更が強制されます。
4.  **最小パスワード有効期間**: ユーザーが再度パスワードを変更できるようになるまでに経過しなければならない最小日数。
5.  **最大パスワード有効期間**: パスワードが有効である最大日数。この期間を過ぎると、ユーザーはパスワードを変更する必要があります。
6.  **パスワード警告期間**: パスワードの有効期限が切れるまでの日数、その間にユーザーに警告メッセージが表示されます。
7.  **パスワード非アクティブ期間**: パスワードの有効期限が切れた後、アカウントが無効になるまでの日数。
8.  **アカウント有効期限**: ユーザーアカウントが無効になる絶対日付。1970 年 1 月 1 日からの日数で表されます。
9.  **予約フィールド**: このフィールドは将来の使用のために予約されています。

`/etc/shadow`ファイルは基本的ですが、最新のディストリビューションの多くは、より柔軟で高度な認証スキームを提供する Pluggable Authentication Modules (PAM) のような他の認証メカニズムでそれを補完しています。

## Exercise

練習あるのみです！Linux におけるユーザー認証とパスワード管理の理解を深めるための実践的なラボを以下に示します。

1.  **[useradd、usermod、userdel を使用した Linux ユーザーアカウントの管理](https://labex.io/ja/labs/comptia-manage-linux-user-accounts-with-useradd-usermod-and-userdel-590837)** - `useradd`や`passwd`を使用した新規アカウントの作成と保護から、それらの変更および削除に至るまで、ユーザー管理のライフサイクル全体を練習します。
2.  **[Linux におけるユーザーアカウントと sudo 権限の設定](https://labex.io/ja/labs/comptia-configure-user-accounts-and-sudo-privileges-in-linux-590856)** - パスワードポリシーの適用やアカウントの保護を含む、ユーザーアカウントと sudo 権限を管理するための必須テクニックを学びます。

これらのラボは、実際のシナリオでユーザーおよびパスワード管理の概念を適用し、Linux システム管理に対する自信を築くのに役立ちます。

## Quiz Question

No questions, move along!
