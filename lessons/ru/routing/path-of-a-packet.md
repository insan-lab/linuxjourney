---
index: 3
lang: "ru"
title: "Путь Пакета"
meta_title: "Путь Пакета - Маршрутизация"
meta_description: "Изучите полный путь пакета данных, передаваемых в локальной сети и через Интернет. Узнайте, как IP-адреса, MAC-адреса, ARP и таблицы маршрутизации работают вместе для обеспечения успешной сетевой связи в Linux."
meta_keywords: "путь пакета, сетевое взаимодействие, ARP, IP-адрес, MAC-адрес, таблица маршрутизации, шлюз по умолчанию, сеть Linux, перемещение пакета"
---

## Lesson Content

Понимание того, как данные перемещаются по сети, является основополагающим для сетевых технологий. Это путешествие, часто называемое **путем пакета**, включает скоординированные усилия различных протоколов и оборудования. Проследим **путь пакета** в двух распространенных сценариях: связь внутри локальной сети и связь с внешней сетью.

### Путь пакета внутри локальной сети

Когда устройство отправляет пакет другому устройству в той же локальной сети, процесс относительно прост.

1. Сначала отправляющий узел проверяет, находится ли IP-адрес назначения в той же подсети, сравнивая его с собственным IP-адресом и маской подсети.
2. Для отправки пакета узлу необходимы четыре ключевых элемента информации: исходный IP, IP назначения, MAC-адрес источника и MAC-адрес назначения. Изначально узел не знает MAC-адрес конечного узла.
3. Узел использует Протокол разрешения адресов (ARP) для поиска недостающей информации. Он широковещательно рассылает ARP-запрос в локальной сети с вопросом, какое устройство имеет целевой IP-адрес. Соответствующее устройство отвечает своим MAC-адресом.
4. Теперь, когда MAC-адрес назначения известен, пакет полностью адресован и может быть отправлен непосредственно на конечный узел в локальной сети.

### Путь пакета к внешней сети

Когда пакет предназначен для устройства за пределами локальной сети, процесс включает маршрутизаторы для пересылки пакета.

1. Отправляющий узел определяет, что IP-адрес назначения не находится в его локальной сети. Поскольку широковещательные ARP-запросы ограничены локальной сетью, узел не может напрямую обнаружить MAC-адрес конечного получателя.
2. Узел обращается к своей таблице маршрутизации. Поскольку для внешнего IP-адреса нет конкретного маршрута, он использует маршрут по умолчанию, который указывает на шлюз по умолчанию (маршрутизатор). Пакет подготавливается с исходным и конечным IP-адресами. Однако MAC-адрес назначения устанавливается как MAC-адрес шлюза по умолчанию. Если MAC-адрес шлюза неизвестен, узел использует ARP для его поиска.
3. Как только пакет достигает маршрутизатора, маршрутизатор анализирует IP-адрес назначения и обращается к собственной таблице маршрутизации, чтобы определить следующий переход на **пути пакета**. Затем маршрутизатор перезаписывает MAC-адреса пакета: MAC-адрес источника становится MAC-адресом маршрутизатора, а MAC-адрес назначения — MAC-адресом следующего перехода. Этот процесс повторяется на каждом маршрутизаторе по пути.
4. Когда пакет наконец достигает маршрутизатора, подключенного к локальной сети назначения, этот маршрутизатор использует ARP для поиска MAC-адреса конечного узла и доставляет пакет.
5. На протяжении всего этого путешествия IP-адреса источника и назначения в заголовке пакета остаются неизменными. Обновляются только MAC-адреса на каждом переходе.

## Exercise

Практика ведет к совершенству! Вот несколько практических лабораторных работ для закрепления понимания базовых операций с файлами и каталогами в Linux:

1. **[Базовые операции с файлами в Linux](https://labex.io/ru/labs/linux-basic-file-operations-in-linux-18001)** - Практикуйтесь в навигации по файловой системе, управлении файлами и каталогами, а также используйте сочетания клавиш командной строки в реальной среде Linux.
2. **[Операции с файлами и каталогами](https://labex.io/ru/labs/linux-file-and-directory-operations-17997)** - Изучите навигацию по структуре каталогов, управление файлами и папками, а также используйте мощные инструменты командной строки, такие как `ls`, `cd`, `mkdir`, `cp`, `mv` и `rm`.
3. **[Организация файлов и каталогов](https://labex.io/ru/labs/linux-organizing-files-and-directories-387877)** - Практикуйте основные навыки управления файлами Linux, используя команды `cp`, `mv` и `rm` для организации структуры проекта, перемещения файлов и очистки ненужных каталогов.

Эти лабораторные работы помогут вам применить концепции в реальных сценариях и повысить уверенность во взаимодействии с файловой системой Linux.

## Quiz Question

Какой протокол используется для поиска MAC-адреса узла в локальной сети, зная его IP-адрес? Пожалуйста, ответьте трехбуквенной аббревиатурой в верхнем регистре.

## Quiz Answer

ARP
