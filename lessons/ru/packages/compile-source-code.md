---
index: 7
lang: "ru"
title: "Компиляция исходного кода"
meta_title: "Компиляция исходного кода - Пакеты"
meta_description: "Узнайте, как компилировать из исходного кода в Linux. Это руководство описывает основные шаги по сборке исходного кода с использованием configure, make и рекомендуемой команды checkinstall для чистого управления пакетами."
meta_keywords: "как скомпилировать из исходного кода, как собрать исходный код, компиляция исходного кода, make install, checkinstall, компиляция Linux, build-essential, скрипт configure, makefile, учебник Linux"
---

## Lesson Content

Иногда вы можете обнаружить пакет, доступный только в виде исходного кода. Чтобы использовать его, вам потребуется скомпилировать и установить его в вашей системе. Этот урок проведет вас через общий процесс компиляции из исходного кода.

### Подготовка системы

Прежде чем что-либо компилировать, вам понадобятся необходимые инструменты. В системах на базе Debian, таких как Ubuntu, вы можете установить их одной командой.

```bash
sudo apt install build-essential
```

Пакет `build-essential` устанавливает набор инструментов для разработки программного обеспечения, включая компилятор GCC и утилиту `make`, которые необходимы для компиляции.

После установки инструментов распакуйте содержимое пакета с исходным кодом, который обычно представляет собой файл `.tar.gz`.

```bash
tar -xzvf package.tar.gz
```

Прежде чем продолжить, всегда проверяйте наличие файла `README` или `INSTALL` внутри распакованной директории. Эти файлы часто содержат конкретные инструкции или зависимости, необходимые для данного пакета.

### Стандартный процесс сборки

Хотя разные разработчики могут использовать различные системы сборки, такие как `cmake`, наиболее традиционный метод включает трехэтапный процесс. Понимание этого является основой для изучения того, как собирать исходный код.

Сначала запустите скрипт `configure`. Этот скрипт проверяет вашу систему на наличие всех необходимых зависимостей и библиотек, которые требуются программному обеспечению для правильной сборки и запуска.

```bash
./configure
```

Префикс `./` указывает оболочке выполнить скрипт из текущей директории. Если скрипт сообщает об отсутствующих зависимостях, вы должны установить их, прежде чем продолжить.

Затем выполните команду `make`. Эта команда считывает файл с именем `Makefile` в директории, который содержит набор правил о том, как скомпилировать исходный код в исполняемые программы.

```bash
make
```

Наконец, чтобы установить программное обеспечение в вашу систему, вы обычно запускаете:

```bash
sudo make install
```

Эта команда копирует скомпилированные файлы в соответствующие системные каталоги, делая программное обеспечение доступным для использования.

### Лучший способ установки

Хотя `sudo make install` работает, у него есть существенный недостаток: он не регистрирует программное обеспечение в системном менеджере пакетов. Это затрудняет отслеживание, обновление или чистую деинсталляцию пакета в будущем.

Гораздо лучший подход — использовать `checkinstall`. Этот инструмент запускает процесс установки, но вместо прямого копирования файлов он создает нативный системный пакет (например, файл `.deb` в Debian/Ubuntu) и устанавливает его.

```bash
sudo checkinstall
```

Использование `checkinstall` интегрирует скомпилированное программное обеспечение в вашу систему управления пакетами. Это означает, что вы можете легко удалить его позже с помощью `apt` или `dpkg`, как и любой другой пакет, установленный из официальных репозиториев. По этой причине вам всегда следует предпочитать `checkinstall` вместо `make install`.

Чтобы удалить пакет, установленный с помощью `make install`, вам нужно вернуться в директорию с исходниками и запустить `sudo make uninstall`, но это не всегда надежно.

## Exercise

Практика ведет к совершенству! Вот практическая лабораторная работа для закрепления понимания сборки программного обеспечения из исходников:

1. **[Сборка программного обеспечения из исходного кода в Linux](https://labex.io/ru/labs/comptia-build-software-from-source-code-in-linux-590853)** - Практикуйте фундаментальный процесс сборки и установки программного обеспечения из его исходного кода, включая использование `configure`, `make` и `make install`.

Эта лабораторная работа поможет вам применить концепции в реальном сценарии и повысить уверенность в компиляции программного обеспечения.

## Quiz Question

Что следует использовать ВМЕСТО `make install` ВСЕГДА? (Пожалуйста, ответьте на английском языке, обращая внимание на регистр)

## Quiz Answer

checkinstall
